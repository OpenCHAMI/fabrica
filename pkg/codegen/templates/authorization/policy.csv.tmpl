# SPDX-FileCopyrightText: Copyright Â© 2025 OpenCHAMI a Series of LF Projects, LLC
#
# SPDX-License-Identifier: MIT
# Casbin Policies for {{.ProjectName}}
# Generated by Fabrica
#
# Format: p, subject, object, action
# - subject: user ID or role name
# - object: resource type ({{range $i, $r := .Resources}}{{if $i}}, {{end}}{{$r.Name}}{{end}})
# - action: list, get, create, update, delete, or * for all
#
# Role assignments: g, user_id, role_name

# ============================================================================
# Default Roles
# ============================================================================

# Admin role - full access to all resources
p, admin, *, *

{{range .Resources}}
# ============================================================================
# {{.Name}} Policies
# ============================================================================

# {{.Name}} Manager - full access to {{.Name}} resources
p, {{.StorageName}}-manager, {{.Name}}, list
p, {{.StorageName}}-manager, {{.Name}}, get
p, {{.StorageName}}-manager, {{.Name}}, create
p, {{.StorageName}}-manager, {{.Name}}, update
p, {{.StorageName}}-manager, {{.Name}}, delete

# {{.Name}} Editor - can create and update {{.Name}} resources
p, {{.StorageName}}-editor, {{.Name}}, list
p, {{.StorageName}}-editor, {{.Name}}, get
p, {{.StorageName}}-editor, {{.Name}}, create
p, {{.StorageName}}-editor, {{.Name}}, update

# {{.Name}} Viewer - read-only access to {{.Name}} resources
p, {{.StorageName}}-viewer, {{.Name}}, list
p, {{.StorageName}}-viewer, {{.Name}}, get

{{end}}
# ============================================================================
# Example Role Assignments (customize for your users)
# ============================================================================

# Example: Assign admin role
# g, alice@example.com, admin

# Example: Assign resource-specific roles
{{range .Resources}}# g, bob@example.com, {{.StorageName}}-manager
# g, carol@example.com, {{.StorageName}}-viewer
{{end}}
